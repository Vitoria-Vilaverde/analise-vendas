# Integra√ß√£o com Ferramentas de Visualiza√ß√£o (Power BI, Looker Studio, Streamlit)

import pandas as pd
import plotly.express as px
import streamlit as st

# Carregar previs√µes salvas
df_pred = pd.read_csv("data/sales_predictions.csv")

# Criar aplica√ß√£o no Streamlit
st.title("üìä Dashboard de Previs√£o de Vendas")

# Exibir tabela de previs√µes
st.subheader("üìã Dados das Previs√µes")
st.dataframe(df_pred)

# Criar gr√°fico de compara√ß√£o entre valores reais e previstos
fig = px.line(df_pred, y=["Actual", "RF_Predicted", "XGB_Predicted"], 
              labels={"value": "Vendas", "variable": "Modelo"},
              title="Compara√ß√£o de Vendas Reais vs. Previstas")
st.plotly_chart(fig)

# Criar gr√°fico de erro por modelo
df_pred["Erro_RF"] = abs(df_pred["Actual"] - df_pred["RF_Predicted"])
df_pred["Erro_XGB"] = abs(df_pred["Actual"] - df_pred["XGB_Predicted"])

fig_erro = px.bar(df_pred, y=["Erro_RF", "Erro_XGB"], 
                   labels={"value": "Erro Absoluto", "variable": "Modelo"},
                   title="Erro Absoluto por Modelo")
st.plotly_chart(fig_erro)

st.write("üîπ Dashboard gerado com Streamlit e Plotly. Pode ser exportado para Power BI e Looker Studio!")
